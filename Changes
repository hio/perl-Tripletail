Revision history for Tripletail

0.30	Fri Aug 24 17:38:15 JST 2007
	- [[重要:非互換な仕様変更]]
	  - Formにundef若しくは空のリストをsetしたときはキーの削除扱いに変更.
	  - Formに配列以外のリファレンス, 若しくはリファレンスを含んだ
	    配列リファレンスをsetしたときはdieするように修正.
	  - Templateで未展開のタグがあった場合に，flushメソッドを呼び出しても
	    エラーとならないことがあるバグを修正．
	    toStrと同様，未展開のタグが残っていた場合はエラーとするのが
	    本来の仕様だが，エラーが出ないケースがあった．
	  - $TL->dispatchの第1引数の値は大文字でなければ拒否するように変更.
	- 空のリストを持つ要素をtextにsetFormできない現象の修正.
	- tx内でgetDBできない現象の修正.
	- fault-handler追加.
	- security.pod, policy.pod, tips.pod のドキュメントを追加．
	- sessionクラスが作成するテーブルのupdatetimeカラムにインデックスを
	  張るように修正．
	  既に作成済みのセッションテーブルに関しては、個別にインデックスの
	  追加作業を行って下さい．
	  （古いセッションデータを削除する場合にのみ利用しますので，
	    不要なら追加しなくてもかまいません．）
	- sessionクラスをMySQLで利用する場合，MySQLのテーブルタイプを
	  指定できるiniオプションを追加．

0.29	Tue Jul  3 17:14:00 JST 2007
	- TagCheck で自動リンクを行う際に，リンクURLがescapeTagではなくencodeURL
	　されているために，ブラウザが正常にリンクを認識できなくなるバグを修正．
	- Mail#attach でファイルパスを渡して添付することを可能にした．
	- Mail クラスでMIMEエンコードする際の処理を改善．
	- Mail#attach で日本語ファイル名に関する処理の修正.
    - FCGI 環境で $TL->fork した際、子プロセスの方が先に死んだ時に Internal
      Server Error になる問題に対処。
    - $TL->fork した際、$TL->startCgi で自動 connect した DB との接続が切れる問題
      を解決。

0.28    Fri Jun 15 12:33:46 JST 2007
	- FCGI動作中は、SIGTERMが流れた時にスタックダンプを出力しないようにする
	- $TL->fork() を追加。FastCGI 環境で通常の fork を行うと正しく動作しないため。
	- mod_perl Handler 対応.
	- 処理の最適化.
	- HtmlFilterで正規表現マッチが動作しないバグの修正.
	- Template#getForm，Template#setForm で，空文字列や 0 を値に持つ
	　option要素を正しく扱えないバグを修正．
	- tltail.pl(1) を追加.
	- Validator#correct メソッドを追加．チェックと同時に値の修正を行える
	　ように機能を拡張．
	　（Thanks to Haruka Kataoka.）

0.27	Tue Mar 27 22:16:06 JST 2007
    - xhtml タグ調整追加(option).

0.26	Tue Mar 27 17:42:48 JST 2007
    - xhtml 出力フィルタ利用時に一部の単一で使うタグが閉じられない不具合の修正. 

0.25	Tue Mar 27 14:40:11 JST 2007
	- Value#genRandomString メソッドを追加.
	- Esmtpが正常に動作しなかった問題を修正.
	- Win32でPOST入力の処理に失敗する不具合の修正.

0.24	Thu Mar  8 16:25:40 JST 2007
	- Form#existsFile, Form#isUploaded メソッドを追加．
	- Value#convKanaNallow, Value#convKanaWide メソッドを追加．
	- SQL Server 対応(experimental).

0.23	Fri Jan 29 17:25:13 JST 2007
	- charconvのprefer_unijpの挙動が仕様と逆になっていたバグの修正.

0.22	Fri Dec  8 16:23:03 JST 2006
	- $DB->tx, $DB->inTx メソッドの追加.

0.21	Mon Dec  4 19:14:30 JST 2006
	- 空白から始まるファイルをアップロードできないバグの修正.
	- Htmlフィルタで落ちることがあるバグの修正. 

0.20	Tue Nov  7 17:11:07 JST 2006
	- logのcurrentリンクを相対パスに変更.

0.19	Fri Oct 20 16:05:20 JST 2006
	- Validator の Integer フィルタで, 値が存在しない場合に通過していたバグの修正.
	- Validator のユーザ定義フィルタのドキュメントが間違っていたので修正.
	- logディレクトリにcurrentのリンクを追加.

0.18	Fri Sep 15 10:57:55 JST 2006
	- [[重要:0.17からの非互換な仕様変更]]
	 - errorTrapをtrapErrorに変更
	 - $TL->log() の第1引数は省略可能に。
	 - $TL->log() の第2引数にリファレンスを渡した場合はダンプ結果を出力するように変更。
	 - $TL->dump() の第1引数は省略可能に。
	- DateTime#getCalendarMatrixが正しいデータを返していなかったのを修正.
	- DateTime#spanXxx,minusXxxが破壊的メソッドになっていたのを修正.
	- jpholiday.plに0.11_01で変更された内容が反映されていなかった問題を修正
	- t/datetime.t を JST に固定.
	- InputFilter::HTML のバグの為、0x0D 0x0A 0x09 のバイト列を含むファイルをアップロードした
	  時に、それが破壊される場合のある問題を解決。
	- Debug の表示するデバッグ画面内でエラーが発生する場合のある問題を解決。
	- その他雑多な修正

0.17	Fri Aug 18 16:32:40 JST 2006
	- Filter::HTML を使うと <form action=""> の action の部分を xxx.cgi?a=b のようにクエリ付きの
	URL に設定してしまう事がある問題を修正。
	- META.ymlの生成を調整.

0.16	Fri Aug 18 13:29:03 JST 2006
	- [[重要:0.15からの非互換な仕様変更]]
	　- 度量衡の1月が30日から30.436875日に変更
	　- Template#setForm は、その引数で言及されていない名前を持つ <textarea> の内容を、常に
	　空にしていた。この動作は変更され、言及されていない <textarea> は変更されないように
	なった。
	- Value#setでNULLをset出来るように修正
	- 度量衡にyearを追加
	- 度量衡変更に伴いparsePeriodを変更
	- Win32対応修正.

0.15	Tue Aug 15 14:22:42 JST 2006
	- [[重要:0.14からの非互換な仕様変更]]
	　- Value#isWhitespace、Value#isPrintableAscii、Value#isWideに関して、従来は空白で真を返していたが、
	　　他との整合性を取るため、空白で偽を返すように変更
	　- Value#forceWhitespaceをtrimWhitespaceに名称変更
	　- Value#isUnportableを削除
	　- Value#isHtmlTag、Validator#HtmlTagを削除
	　- Value#isTrailingslash、Validator#TrailingSlashを削除
	　- Value#isIpAddressでIPアドレス形式が正しくなかった場合、dieせずundefを返すように変更
	- Value#isBlankを追加
	- Value#isPortableを追加
	- Value#strCutを追加
	- Validator#NotBlankを追加
	- Validator#Blankを追加
	- Validator#Emptyを追加
	- Validator#IpAddressを追加
	- Valueクラスで、改行コードが含まれている場合に正常なチェックが行えないケースがある
	　問題を修正
	- Sendmailクラスの送信方法にsendmailを追加。sendmailコマンドを利用して送信する
	- opensslライブラリが使用できない場合はSMIMEクラスのインストールをスキップするように修正

0.14    Tue Aug  8 10:19:08 JST 2006
	- デバッグ機能利用時にDBエラーが正しく表示されないことがある問題を修正
	- <input type="TEXT" ...> のように type 属性が大文字になっている html テンプレートに対する
	  setForm と getForm メソッドが正しく動作しない問題を修正。
	- <>の間に改行を含むタグを正しく解析できない問題を修正。

0.13    Wed Aug  2 16:45:37 JST 2006
	- CustomFilterのサンプルをいったん削除

0.12    Wed Aug  2 10:36:54 JST 2006
	- フレーム版ドキュメントのリンク切れを修正
	- 祝日生成モジュールがパッケージ名称変更に未対応だったため修正
	- Tripletail::InputFilter::Plainを追加

0.11_01 Thu Jul 27 12:05:32 JST 2006
	- [[重要:0.10_07からの非互換な仕様変更]]
	  - TLからTripletailにパッケージ名称を変更
	  - DateTimeクラスのspan系で、(引数) - (this)としていたものを、(this) - (引数)に変更
	  - DateTimeクラスのspanMonth、spanYearの挙動を実際の期間を、指定された単位で計算するように修正
	  - DateTimeクラスのadd系に関して、コピーを生成せず破壊的動作をするように修正
	- DateTimeクラスのspan系で、(引数1) - (引数2)を追加
	- DateTimeクラスにminusSecond、minusMinute,minusHour,minusDay,minusMonth,minusYearを追加
	- DateTimeクラスにてユリウス日時から、グレゴリオ暦への変換時に誤差が発生していた問題を修正
	- $TL->newForm($hashref) 形式でもフォームオブジェクトを作成できるように変更
	- $TL->addHiddenForm({key => val}, 'formname') 形式でも使用できるように変更
	- $TL->setForm({key => val}, 'formname') 形式でも使用できるように変更
	- DBのコネクションのグループ名称の頭文字をCNTからCONに変更
	- GMT等のタイムゾーンを正常に扱えない問題を修正

0.10_07 Tue Jul 18 16:43:44 JST 2006
	- [[重要:0.10_06からの非互換な仕様変更]]
	  - DBクラスのselectRowHash/Arrayで、データが0件の場合の戻り値に関する仕様を変更
	  - 従来は {} または [] が返っていたが、undef を返すように変更
	- DBクラスでデッドロック発生時の処理に問題があったため修正
	- バグ発生時のメール送信でのログ出力の問題を修正
	- stacktrace=fullでのデバッグ表示が崩れる場合がある問題を修正
	- stacktrace=fullでソースの表示する時、初期値をTLライブラリ外のフレームに変更
	- デバッグ時にポップアップウィンドウがブロックされた際、JavaScriptでエラーが発生する問題を修正
	- Makefile.PLからCache::Memcached::XSを削除

0.10_06 Fri Jul 14 19:02:48 JST 2006
	- DBのsthクラスに最後のexecute戻り値を取得するretメソッドを追加
	- テスト時の出力を改善
	- DateTimeクラスにaddBusinessDayを追加
	- DateTimeクラスのisHolidayにオプション追加
	- DateTimeクラスのisHolidayのデフォルトの挙動を変更
	- READMEファイルにHPへのURLを追加
	- Makefile.PLでCache::Memcached::XSを追加
	- Makefile.PLでDigest::MD5を削除
	- Makefile.PLでDigest::SHA1を削除
	- ログ出力時にディレクトリまたはファイルが作成できず、かつメール通知の設定がされていて
	  メール通知できない状況で永久ループするバグを修正
	- ログの出力フォーマットに関するドキュメントを追加。
	- $TL->getLogHeader メソッドを追加。
	- マニュアルの整形ミスを修正。
	- TL::DB#selectRowHash, selectRowArray を追加。

0.10_05 Mon Jul 10 10:58 JST 2006
	- ドキュメント修正、make test時にファイルが残る問題の修正

0.10_04 Sat Jul 08 16:56 JST 2006
	- CPANで文字化け等していたPODの不都合を修正

0.10_03 Sat Jul 08 13:28 JST 2006
	- DBが利用できないときテストに失敗する問題を修正
	- templateテストでエラーが出ている問題を修正
	- PODのNAMEに直接日本語を書くように修正

0.10_02 Fri Jul 07 21:18 JST 2006
	- encoding指定ミスを修正

0.10_01 Fri Jul 07 16:34 JST 2006
	- CPAN公開初版

0.09 Tue Jun 13 18:09 JST 2006
	- 限定公開版

