<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xml:lang="ja-JP">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="stylesheet" type="text/css" href="../../style.css" />
  <title>Tripletail::Filter::MobileHTML - 携帯電話向けHTML出力用フィルタ</title>
  <link rel="index"     href="./" />
  <link rel="up"        href="../" />
</head>
<body>

<div class="pod_title_block">
Tripletail::Filter::MobileHTML - 携帯電話向けHTML出力用フィルタ


</div>

<!-- Begin TABLE_OF_CONTENTS -->
<div class="pod_toc">
<p>
<strong><span class="pod_lang">TABLE OF CONTENTS</span></strong>
</p>
<ul>
<li><a href="#NAME">
<span class="pod_lang">NAME

</span></a>
</li>
<li><a href="#SYNOPSIS">
<span class="pod_lang">SYNOPSIS

</span></a>
</li>
<li><a href="#DESCRIPTION">
<span class="pod_lang">DESCRIPTION

</span></a>
<ul>
<li><a href="#Xe3X83X95Xe3X82Xa3Xe3X83XabXe3X82XbfXe3X83X91Xe3X83Xa9Xe3X83Xa1Xe3X83XbcXe3X82Xbf">
<span class="pod_lang">フィルタパラメータ

</span></a>
</li>
<li><a href="#METHODS">
<span class="pod_lang">METHODS

</span></a>
</li>
</ul>
</li>
<li><a href="#SEE_ALSO">
<span class="pod_lang">SEE ALSO

</span></a>
</li>
<li><a href="#AUTHOR_INFORMATION">
<span class="pod_lang">AUTHOR INFORMATION

</span></a>
</li>
</ul>
</div>
<!-- End TABLE_OF_CONTENTS -->

<!-- Begin CONTENT -->

<hr />
<h1><a id="NAME">
<span class="pod_lang">NAME

</span></a></h1>

<p>
<span class="pod_lang">Tripletail::Filter::MobileHTML - 携帯電話向けHTML出力用フィルタ

</span>
</p>


<hr />
<h1><a id="SYNOPSIS">
<span class="pod_lang">SYNOPSIS

</span></a></h1>

<pre class="pod_verbatim"><code>  $TL-&gt;setContentFilter('Tripletail::Filter::MobileHTML', charset =&gt; 'Shift_JIS');
  
  $TL-&gt;print($TL-&gt;readTextFile('foo.html'));</code></pre>


<hr />
<h1><a id="DESCRIPTION">
<span class="pod_lang">DESCRIPTION

</span></a></h1>

<p>
<span class="pod_lang">HTMLに対して以下の処理を行う。

</span>
</p>

<dl>
<dt><a id="Xe6XbcXa2Xe5XadX97Xe3X82Xb3Xe3X83XbcXe3X83X89Xe5Xa4X89Xe6X8fX9bXefXbcX88Xe3X83X87Xe3X83X95Xe3X82Xa9Xe3X83XabXe3X83X88Shift_JISXe3X80X81Xe5Xb8Xb8Xe3X81XabUnicode::JapaneseXe3X82X92Xe4XbdXbfXe3X81X86XefXbcX89"><span class="pod_lang">漢字コード変換（デフォルトShift_JIS、常にUnicode::Japaneseを使う）

</span></a></dt>
<dd>
</dd>
<dt><a id="Xe3X83X98Xe3X83X83Xe3X83X80Xe3X81XaeXe7XaeXa1Xe7X90X86"><span class="pod_lang">ヘッダの管理

</span></a></dt>
<dd>
</dd>
<dt><a id="X&lt;form_action=""&gt;_Xe3X81X8cXe7Xa9XbaXe6XacX84Xe3X81XaeXe5Xa0Xb4Xe5X90X88Xe3X80X81Xe8X87XaaXe5X88X86Xe8X87XaaXe8XbaXabXe3X81XaeCGIXe5X90X8dXe3X82X92Xe5X9fX8bXe3X82X81Xe3X82X8b"><span class="pod_lang">&lt;form action=&quot;&quot;&gt; が空欄の場合、自分自身のCGI名を埋める

</span></a></dt>
<dd>
</dd>
<dt><a id="Xe7X89Xb9Xe5XaeX9aXe3X83X95Xe3X82Xa9Xe3X83XbcXe3X83Xa0Xe3X83X87Xe3X83XbcXe3X82XbfXe3X82X92Xe6X8cX87Xe5XaeX9aXe3X81X95Xe3X82X8cXe3X81X9fXe7Xa8XaeXe5X88Xa5Xe3X81XaeXe3X83XaaXe3X83Xb3Xe3X82XafXe3X81XabXe4XbbX98Xe4Xb8X8eXe3X81X99Xe3X82X8b"><span class="pod_lang">特定フォームデータを指定された種別のリンクに付与する

</span></a></dt>
<dd>
</dd>
</dl>

<p>
<span class="pod_lang"><a href="../.././Tripletail/Filter/HTML.html">Tripletail::Filter::HTML</a> との違いは以下の通り。

</span>
</p>

<dl>
<dt><a id="Xe6X96X87Xe5XadX97Xe3X82Xb3Xe3X83XbcXe3X83X89Xe5Xa4X89Xe6X8fX9bXe3X81XabEncodeXe3X82X92Xe4XbdXbfXe3X82X8fXe3X81X9aXe3X80X81Xe5Xb8Xb8Xe3X81XabUnicode::JapaneseXe3X82X92Xe4XbdXbfXe7X94Xa8Xe3X80X82"><span class="pod_lang">文字コード変換にEncodeを使わず、常にUnicode::Japaneseを使用。

</span></a></dt>
<dd>
</dd>
<dt><a id="Xe3X82XbbXe3X83X83Xe3X82Xb7Xe3X83Xa7Xe3X83Xb3Xe7X94Xa8Xe3X81XaeXe3X83X87Xe3X83XbcXe3X82XbfXe3X82X92Xe5X85Xa8Xe3X81Xa6Xe3X81XaeXe3X83XaaXe3X83Xb3Xe3X82XafXe3X81XabXe8XbfXbdXe8Xa8X98Xe3X81X97Xe3X80X81Xe3X82XafXe3X83X83Xe3X82XadXe3X83XbcXe3X81Xa7Xe3X81XaeXe5X87XbaXe5X8aX9bXe3X81XafXe3X81X97Xe3X81XaaXe3X81X84Xe3X80X82"><span class="pod_lang">セッション用のデータを全てのリンクに追記し、クッキーでの出力はしない。

</span></a></dt>
<dd>
</dd>
</dl>

<h2><a id="Xe3X83X95Xe3X82Xa3Xe3X83XabXe3X82XbfXe3X83X91Xe3X83Xa9Xe3X83Xa1Xe3X83XbcXe3X82Xbf">
<span class="pod_lang">フィルタパラメータ

</span></a></h2>

<dl>
<dt><a id="charset"><span class="pod_lang">charset

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;setContentFilter('Tripletail::Filter::MobileHTML', charset =&gt; 'Shift_JIS');</code></pre>

<p>
<span class="pod_lang">出力文字コードを指定する。省略可能。

</span>
</p>

<p>
<span class="pod_lang">使用可能なコードは次の通り。
UTF-8，Shift_JIS，EUC-JP，ISO-2022-JP
	
</span>
</p>

<p>
<span class="pod_lang">デフォルトはShift_JIS。

</span>
</p>

</dd>
<dt><a id="contenttype"><span class="pod_lang">contenttype

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;setContentFilter('Tripletail::Filter::MobileHTML', contenttype =&gt; 'text/html; charset=sjis');</code></pre>

<p>
<span class="pod_lang">Content-Typeを指定する。省略可能。

</span>
</p>

<p>
<span class="pod_lang">デフォルトはtext/html; charset=（charasetで指定された文字コード）。

</span>
</p>

</dd>
<dt><a id="type"><span class="pod_lang">type

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;setContentFilter('Tripletail::Filter::MobileHTML', type =&gt; 'xhtml');</code></pre>

<p>
<span class="pod_lang">'html' もしくは 'xhtml' を利用可能。省略可能。

</span>
</p>

<p>
<span class="pod_lang">フィルタがHTMLを書換える際の動作を調整する為のオプション。
XHTMLを出力する際に、このパラメータをhtmlのままにした場合、
不正なXHTMLが出力される事がある。

</span>
</p>

<p>
<span class="pod_lang">デフォルトは 'html'。

</span>
</p>

</dd>
</dl>

<h2><a id="METHODS">
<span class="pod_lang">METHODS

</span></a></h2>

<dl>
<dt><a id="getSaveForm"><span class="pod_lang">getSaveForm

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  my $SAVE = $TL-&gt;getContentFilter-&gt;getSaveForm;</code></pre>

<p>
<span class="pod_lang">出力フィルタが所持している保存すべきデータが入った、
<a href="../.././Tripletail/Form.html">Form</a> オブジェクトを返す。

</span>
</p>

</dd>
<dt><a id="setDecideLink"><span class="pod_lang">setDecideLink

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;getContentFilter-&gt;setDecideLink(\&amp;func);</code></pre>

<p>
<span class="pod_lang">リンク種別を決定する関数を設定する。
値を渡さないとデフォルトの判別処理に戻す。

</span>
</p>

<p>
<span class="pod_lang">関数の戻り値が1であれば、同じTLライブラリで作成された環境へのリンクとして、リンクの書き換えを行う。
関数の戻り値が0であれば、リンクの書き換えは行わない。 

</span>
</p>

<p>
<span class="pod_lang">デフォルトの判別処理は以下の関数で行っている。

</span>
</p>

<pre class="pod_verbatim"><code>  sub defaultDecideLink {
    my (%param) = @_;

    if($param{'link'} =~ m/^https?/) {
      return 0;
    }
    elsif($param{'link'} =~ m/^javascript/i) {
      return 0;
    }
    elsif($param{'link'} =~ m/^(?:mailto|ftp):/) {
      return 0;
    }
    elsif(not length $param{'link'}) {
      return 0;
    }
    else {
      return 1;
    }
  }</code></pre>

</dd>
<dt><a id="setHeader"><span class="pod_lang">setHeader

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;getContentFilter-&gt;setHeader($key =&gt; $value)</code></pre>

<p>
<span class="pod_lang">他の出力の前に実行する必要がある。

</span>
</p>

<p>
<span class="pod_lang">同じヘッダを既に出力しようとしていれば、そのヘッダの代わりに指定したヘッダを出力する。（上書きされる）

</span>
</p>

</dd>
<dt><a id="addHeader"><span class="pod_lang">addHeader

</span></a></dt>
<dd>
<pre class="pod_verbatim"><code>  $TL-&gt;getContentFilter-&gt;addHeader($key =&gt; $value)</code></pre>

<p>
<span class="pod_lang">他の出力の前に実行する必要がある。

</span>
</p>

<p>
<span class="pod_lang">同じヘッダを既に出力しようとしていれば、そのヘッダに加えて指定したヘッダを出力する。（追加される）

</span>
</p>

</dd>
<dt><a id="print"><span class="pod_lang">print

</span></a></dt>
<dd>
<p>
<span class="pod_lang"><a href="../.././Tripletail/Filter.html">Tripletail::Filter</a>参照

</span>
</p>

</dd>
</dl>


<hr />
<h1><a id="SEE_ALSO">
<span class="pod_lang">SEE ALSO

</span></a></h1>

<dl>
<dt><a id="X_"><span class="pod_lang"><a href="../.././Tripletail.html">Tripletail</a>

</span></a></dt>
<dd>
</dd>
<dt><a id="X__00"><span class="pod_lang"><a href="../.././Tripletail/Filter.html">Tripletail::Filter</a>

</span></a></dt>
<dd>
</dd>
<dt><a id="X__01"><span class="pod_lang"><a href="../.././Tripletail/Filter/HTML.html">Tripletail::Filter::HTML</a>

</span></a></dt>
<dd>
</dd>
<dt><a id="X__02"><span class="pod_lang"><a href="../.././Tripletail/Form.html">Tripletail::Form</a>

</span></a></dt>
<dd>
</dd>
</dl>


<hr />
<h1><a id="AUTHOR_INFORMATION">
<span class="pod_lang">AUTHOR INFORMATION

</span></a></h1>

<ul>
<p>
<span class="pod_lang">Copyright 2006 YMIRLINK Inc. All Rights Reserved.

</span>
</p>

<p>
<span class="pod_lang">This framework is free software; you can redistribute it and/or modify it under the same terms as Perl itself

</span>
</p>

<p>
<span class="pod_lang">このフレームワークはフリーソフトウェアです。あなたは Perl と同じライセンスの 元で再配布及び変更を行うことが出来ます。

</span>
</p>

<p>
<span class="pod_lang">Address bug reports and comments to: tl@tripletail.jp

</span>
</p>

<p>
<span class="pod_lang">HP : http://tripletail.jp/

</span>
</p>

</ul>

<!-- End CONTENT -->

<div class="pod_title_block">
Tripletail::Filter::MobileHTML - 携帯電話向けHTML出力用フィルタ


</div>

<!-- Begin INDEX -->
<hr />
<h1><a id="INDEX"><span class="pod_lang">INDEX</span></a></h1>
<div class="pod_idx_outer">
<ul class="pod_idx">
<li><a href="#X&lt;form_action=""&gt;_Xe3X81X8cXe7Xa9XbaXe6XacX84Xe3X81XaeXe5Xa0Xb4Xe5X90X88Xe3X80X81Xe8X87XaaXe5X88X86Xe8X87XaaXe8XbaXabXe3X81XaeCGIXe5X90X8dXe3X82X92Xe5X9fX8bXe3X82X81Xe3X82X8b">&lt;form action=&quot;&quot;&gt; が空欄の場合、自分自身のCGI名を埋める</a></li>
<li><a href="#AUTHOR_INFORMATION">AUTHOR INFORMATION</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#METHODS">METHODS</a></li>
<li><a href="#NAME">NAME</a></li>
<li><a href="#SEE_ALSO">SEE ALSO</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#X_">Tripletail</a></li>
<li><a href="#X__00">Tripletail::Filter</a></li>
<li><a href="#X__01">Tripletail::Filter::HTML</a></li>
<li><a href="#X__02">Tripletail::Form</a></li>
<li><a href="#addHeader">addHeader</a></li>
<li><a href="#charset">charset</a></li>
<li><a href="#contenttype">contenttype</a></li>
<li><a href="#getSaveForm">getSaveForm</a></li>
<li><a href="#print">print</a></li>
<li><a href="#setDecideLink">setDecideLink</a></li>
<li><a href="#setHeader">setHeader</a></li>
<li><a href="#type">type</a></li>
<li><a href="#Xe3X82XbbXe3X83X83Xe3X82Xb7Xe3X83Xa7Xe3X83Xb3Xe7X94Xa8Xe3X81XaeXe3X83X87Xe3X83XbcXe3X82XbfXe3X82X92Xe5X85Xa8Xe3X81Xa6Xe3X81XaeXe3X83XaaXe3X83Xb3Xe3X82XafXe3X81XabXe8XbfXbdXe8Xa8X98Xe3X81X97Xe3X80X81Xe3X82XafXe3X83X83Xe3X82XadXe3X83XbcXe3X81Xa7Xe3X81XaeXe5X87XbaXe5X8aX9bXe3X81XafXe3X81X97Xe3X81XaaXe3X81X84Xe3X80X82">セッション用のデータを全てのリンクに追記し、クッキーでの出力はしない。</a></li>
<li><a href="#Xe3X83X95Xe3X82Xa3Xe3X83XabXe3X82XbfXe3X83X91Xe3X83Xa9Xe3X83Xa1Xe3X83XbcXe3X82Xbf">フィルタパラメータ</a></li>
<li><a href="#Xe3X83X98Xe3X83X83Xe3X83X80Xe3X81XaeXe7XaeXa1Xe7X90X86">ヘッダの管理</a></li>
<li><a href="#Xe6X96X87Xe5XadX97Xe3X82Xb3Xe3X83XbcXe3X83X89Xe5Xa4X89Xe6X8fX9bXe3X81XabEncodeXe3X82X92Xe4XbdXbfXe3X82X8fXe3X81X9aXe3X80X81Xe5Xb8Xb8Xe3X81XabUnicode::JapaneseXe3X82X92Xe4XbdXbfXe7X94Xa8Xe3X80X82">文字コード変換にEncodeを使わず、常にUnicode::Japaneseを使用。</a></li>
<li><a href="#Xe6XbcXa2Xe5XadX97Xe3X82Xb3Xe3X83XbcXe3X83X89Xe5Xa4X89Xe6X8fX9bXefXbcX88Xe3X83X87Xe3X83X95Xe3X82Xa9Xe3X83XabXe3X83X88Shift_JISXe3X80X81Xe5Xb8Xb8Xe3X81XabUnicode::JapaneseXe3X82X92Xe4XbdXbfXe3X81X86XefXbcX89">漢字コード変換（デフォルトShift_JIS、常にUnicode::Japaneseを使う）</a></li>
<li><a href="#Xe7X89Xb9Xe5XaeX9aXe3X83X95Xe3X82Xa9Xe3X83XbcXe3X83Xa0Xe3X83X87Xe3X83XbcXe3X82XbfXe3X82X92Xe6X8cX87Xe5XaeX9aXe3X81X95Xe3X82X8cXe3X81X9fXe7Xa8XaeXe5X88Xa5Xe3X81XaeXe3X83XaaXe3X83Xb3Xe3X82XafXe3X81XabXe4XbbX98Xe4Xb8X8eXe3X81X99Xe3X82X8b">特定フォームデータを指定された種別のリンクに付与する</a></li>
</ul>
</div>
<!-- End INDEX -->

<div class="pod_title_block">
Tripletail::Filter::MobileHTML - 携帯電話向けHTML出力用フィルタ


</div>

</body>
</html>
